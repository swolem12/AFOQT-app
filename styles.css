/* Global reset and base styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Theme CSS Custom Properties */
:root,
.theme-default {
    /* Default - Cyan Tron Theme */
    --color-bg: #000000;
    --color-bg-panel: rgba(0, 20, 40, 0.9);
    --color-primary: #00ffff;
    --color-primary-glow: rgba(0, 255, 255, 0.3);
    --color-primary-dim: rgba(0, 255, 255, 0.1);
    --color-secondary: #00ccff;
    --color-accent: #ff00ff;
    --color-text: #00ffff;
    --color-text-dim: rgba(0, 255, 255, 0.7);
    --color-success: #00ff00;
    --color-error: #ff0066;
    --color-warning: #ffaa00;
}

.theme-eva01 {
    /* EVA-01 - Purple/Green Evangelion Theme */
    --color-bg: #201430;
    --color-bg-panel: rgba(32, 20, 48, 0.9);
    --color-primary: #87FF5F;
    --color-primary-glow: rgba(135, 255, 95, 0.3);
    --color-primary-dim: rgba(135, 255, 95, 0.1);
    --color-secondary: #B968FC;
    --color-accent: #D99145;
    --color-text: #E1D6F8;
    --color-text-dim: rgba(225, 214, 248, 0.7);
    --color-success: #8EDF5F;
    --color-error: #DB6088;
    --color-warning: #D99145;
}

.theme-eva02 {
    /* EVA-02 - Red/Orange Evangelion Theme */
    --color-bg: #280000;
    --color-bg-panel: rgba(40, 0, 0, 0.9);
    --color-primary: #FF5701;
    --color-primary-glow: rgba(255, 87, 1, 0.3);
    --color-primary-dim: rgba(255, 87, 1, 0.1);
    --color-secondary: #BD2A1E;
    --color-accent: #00A6BF;
    --color-text: #FFFF92;
    --color-text-dim: rgba(255, 255, 146, 0.7);
    --color-success: #00D200;
    --color-error: #BD2A1E;
    --color-warning: #da6606;
}

/* CRT Screen effect */
@keyframes flicker {
    0% { opacity: 0.97; }
    50% { opacity: 1; }
    100% { opacity: 0.97; }
}

@keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
}

@keyframes textGlow {
    0%, 100% { 
        text-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary); 
    }
    50% { 
        text-shadow: 0 0 20px var(--color-primary), 0 0 30px var(--color-primary), 0 0 40px var(--color-primary); 
    }
}

body {
    font-family: 'Courier New', 'Courier', monospace;
    background: var(--color-bg);
    color: var(--color-text);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: hidden;
    position: relative;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* CRT Screen overlay */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15),
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 1000;
    animation: flicker 0.15s infinite;
}

/* Scanline effect */
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--color-primary-dim);
    pointer-events: none;
    z-index: 999;
    animation: scanline 6s linear infinite;
}

/* Screen curvature effect */
#app-root {
    filter: contrast(1.1) brightness(1.1);
    perspective: 1000px;
}

#app-root {
    width: 100%;
    max-width: 900px;
    padding: 20px;
    position: relative;
    z-index: 1;
}

/* Card/Panel styles */
.panel {
    background: var(--color-bg-panel);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 30px;
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        inset 0 0 100px var(--color-primary-dim);
    margin-bottom: 20px;
    position: relative;
    animation: panelEnter 0.5s ease-out;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

@keyframes panelEnter {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 255, 0.03) 2px,
        rgba(0, 255, 255, 0.03) 4px
    );
    pointer-events: none;
    border-radius: 8px;
}

.panel-header {
    font-size: clamp(1.5rem, 4vw + 0.5rem, 2.5rem);
    text-align: center;
    margin-bottom: 30px;
    text-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary), 0 0 30px var(--color-primary);
    letter-spacing: clamp(2px, 0.5vw, 4px);
    animation: textGlow 2s ease-in-out infinite, typeIn 1s steps(20);
    font-weight: bold;
    position: relative;
    color: var(--color-primary);
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

@keyframes typeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Button styles */
.btn {
    background: var(--color-bg);
    color: var(--color-text);
    border: 2px solid var(--color-primary);
    padding: 12px 24px;
    font-size: clamp(0.8rem, 1.3vw, 0.95rem);
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: 'Courier New', 'Courier', monospace;
    font-weight: bold;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--color-primary);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 0;
}

.btn:hover::before {
    opacity: 0.2;
}

.btn:hover {
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 15px var(--color-primary-glow),
        0 0 30px var(--color-primary-glow),
        inset 0 0 10px var(--color-primary-dim);
    transform: translateY(-2px);
    color: var(--color-text);
    border-color: var(--color-primary);
}

.btn:active {
    transform: translateY(0) scale(0.98);
    box-shadow: 
        0 0 10px var(--color-primary-glow),
        inset 0 0 20px var(--color-primary-dim);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    filter: grayscale(50%);
}

.btn-small {
    padding: 8px 16px;
    font-size: clamp(0.75rem, 1.2vw, 0.9rem);
}

.btn-large {
    padding: 16px 32px;
    font-size: clamp(1rem, 2vw, 1.2rem);
}

/* Grid layouts */
.grid {
    display: grid;
    gap: 15px;
    margin: 20px 0;
}

.grid-2 {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.grid-3 {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.grid-4 {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

/* Player selection section */
.player-section {
    margin-bottom: 30px;
}

.player-controls {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
    margin-top: 15px;
}

.player-controls select,
.player-controls input {
    background: rgba(0, 0, 0, 0.9);
    color: var(--color-primary);
    border: 2px solid var(--color-primary);
    padding: 10px;
    font-size: 1rem;
    border-radius: 4px;
    flex: 1;
    min-width: 150px;
    transition: color 0.3s ease, border-color 0.3s ease;
}

.player-controls input:focus {
    outline: none;
    box-shadow: 0 0 10px var(--color-primary-glow);
    animation: inputFocus 0.3s ease-out;
}

@keyframes inputFocus {
    from {
        box-shadow: 0 0 0 rgba(0, 255, 255, 0);
    }
    to {
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    }
}

/* Terminal cursor effect */
.panel-header::after {
    content: '_';
    animation: cursorBlink 1s step-end infinite;
    margin-left: 5px;
}

@keyframes cursorBlink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

/* Subject and Topic tiles */
.tile {
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--color-primary);
    padding: 15px;
    text-align: center;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    animation: tileSlideIn 0.5s ease-out backwards;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 80px;
}

@keyframes tileSlideIn {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.tile:nth-child(1) { animation-delay: 0.1s; }
.tile:nth-child(2) { animation-delay: 0.2s; }
.tile:nth-child(3) { animation-delay: 0.3s; }
.tile:nth-child(4) { animation-delay: 0.4s; }
.tile:nth-child(5) { animation-delay: 0.5s; }
.tile:nth-child(6) { animation-delay: 0.6s; }

.tile::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: var(--color-primary);
    opacity: 0;
    transition: opacity 0.3s;
}

.tile:hover::before {
    opacity: 0.1;
}

.tile:hover {
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        0 0 40px var(--color-primary-glow),
        inset 0 0 20px var(--color-primary-dim);
    transform: translateY(-3px) scale(1.02);
    border-color: var(--color-primary);
    color: var(--color-text);
}

.tile:active {
    transform: translateY(-1px) scale(1);
}

.tile-title {
    font-size: clamp(0.85rem, 1.5vw, 1rem);
    font-weight: bold;
    margin-bottom: 8px;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    color: var(--color-text);
    line-height: 1.3;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.tile-description {
    font-size: clamp(0.7rem, 1.2vw, 0.8rem);
    opacity: 0.8;
    line-height: 1.3;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Quiz screen */
.quiz-progress-bar {
    width: 100%;
    height: 6px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--color-primary);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 20px;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
    transition: border-color 0.3s ease;
}

.quiz-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    box-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary);
    transition: width 0.5s ease-out;
    animation: progressPulse 2s ease-in-out infinite;
}

@keyframes progressPulse {
    0%, 100% { 
        opacity: 1;
        box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
    }
    50% { 
        opacity: 0.9;
        box-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff;
    }
}

.quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 15px;
    animation: fadeInDown 0.5s ease-out;
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.quiz-info {
    font-size: clamp(0.9rem, 1.6vw, 1.05rem);
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

.timer {
    font-family: 'Courier New', monospace;
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: bold;
    padding: 10px 20px;
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--color-primary);
    border-radius: 4px;
    text-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary);
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        inset 0 0 10px var(--color-primary-dim);
    animation: timerPulse 1s ease-in-out infinite;
    transition: border-color 0.3s ease, text-shadow 0.3s ease, box-shadow 0.3s ease;
}

@keyframes timerPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.timer.negative {
    color: #ff0000;
    border-color: #ff0000;
    text-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
    animation: timerAlert 0.5s ease-in-out infinite;
}

@keyframes timerAlert {
    0%, 100% { 
        transform: scale(1);
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    }
    50% { 
        transform: scale(1.1);
        box-shadow: 0 0 40px rgba(255, 0, 0, 0.8);
    }
}

.question-prompt {
    font-size: clamp(1.1rem, 2vw, 1.3rem);
    margin: 30px 0;
    padding: 25px 20px;
    background: var(--color-primary-dim);
    border: 2px solid var(--color-primary);
    border-left: 6px solid var(--color-primary);
    border-right: 6px solid var(--color-primary);
    line-height: 1.6;
    position: relative;
    box-shadow: 
        0 0 20px var(--color-primary-dim),
        inset 0 0 30px var(--color-primary-dim);
    animation: questionReveal 0.6s ease-out;
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
    text-align: left;
    clip-path: polygon(
        0 8px,
        8px 0,
        calc(100% - 8px) 0,
        100% 8px,
        100% calc(100% - 8px),
        calc(100% - 8px) 100%,
        8px 100%,
        0 calc(100% - 8px)
    );
}

.question-prompt::before {
    content: 'DATA';
    position: absolute;
    top: -2px;
    left: 20px;
    font-size: 0.7rem;
    color: var(--color-bg);
    background: var(--color-primary);
    padding: 2px 10px;
    letter-spacing: 3px;
    font-weight: bold;
}

.question-prompt::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 40px;
    height: 40px;
    border-right: 2px solid var(--color-primary);
    border-bottom: 2px solid var(--color-primary);
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 3px,
        var(--color-primary-dim) 3px,
        var(--color-primary-dim) 6px
    );
}

@keyframes questionReveal {
    from {
        opacity: 0;
        transform: translateX(-30px);
        filter: blur(5px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
        filter: blur(0);
    }
}

.options-grid {
    display: grid;
    gap: 15px;
    margin: 30px 0;
}

.option-btn {
    background: rgba(0, 0, 0, 0.9);
    color: var(--color-primary);
    border: 2px solid var(--color-primary);
    padding: 15px;
    text-align: left;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.3s ease;
    font-size: clamp(0.85rem, 1.5vw, 0.95rem);
    font-family: 'Courier New', 'Courier', monospace;
    position: relative;
    overflow: hidden;
    animation: optionAppear 0.4s ease-out backwards;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.4;
}

@keyframes optionAppear {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.option-btn:nth-child(1) { animation-delay: 0.1s; }
.option-btn:nth-child(2) { animation-delay: 0.2s; }
.option-btn:nth-child(3) { animation-delay: 0.3s; }
.option-btn:nth-child(4) { animation-delay: 0.4s; }

.option-btn::before {
    content: '>';
    position: absolute;
    left: -20px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.2rem;
    transition: left 0.3s ease;
    opacity: 0;
}

.option-btn:hover:not(:disabled)::before {
    left: 5px;
    opacity: 1;
}

.option-btn:hover:not(:disabled) {
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        inset 0 0 10px var(--color-primary-dim);
    padding-left: 30px;
    transform: translateX(5px);
}

.option-btn.correct {
    border-color: var(--color-success);
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        0 0 40px var(--color-primary-glow),
        inset 0 0 20px var(--color-primary-dim);
    animation: correctPulse 0.6s ease-out;
}

@keyframes correctPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
}

.option-btn.selected {
    border-color: var(--color-primary);
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 10px var(--color-primary-glow),
        inset 0 0 10px var(--color-primary-dim);
}

.option-btn.incorrect {
    border-color: #ff0000;
    background: rgba(255, 0, 0, 0.2);
    box-shadow: 
        0 0 20px rgba(255, 0, 0, 0.5),
        0 0 40px rgba(255, 0, 0, 0.3),
        inset 0 0 20px rgba(255, 0, 0, 0.2);
    animation: incorrectShake 0.5s ease-out;
}

@keyframes incorrectShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

.option-btn:disabled {
    cursor: not-allowed;
}

.option-label {
    font-weight: bold;
    margin-right: 10px;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

/* Feedback panel */
.feedback {
    margin: 30px 0;
    padding: 20px;
    border-radius: 4px;
    border: 2px solid;
    animation: feedbackSlideIn 0.5s ease-out;
    position: relative;
    overflow: hidden;
}

@keyframes feedbackSlideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
        max-height: 0;
        padding: 0 20px;
    }
    to {
        opacity: 1;
        transform: translateY(0);
        max-height: 500px;
        padding: 20px;
    }
}

.feedback::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    animation: feedbackShimmer 2s ease-in-out;
}

@keyframes feedbackShimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.feedback.correct {
    background: rgba(0, 255, 255, 0.1);
    border-color: #00ffff;
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.3),
        inset 0 0 30px rgba(0, 255, 255, 0.05);
}

.feedback.incorrect {
    background: rgba(255, 0, 0, 0.1);
    border-color: #ff0000;
    color: #ff6666;
    box-shadow: 
        0 0 20px rgba(255, 0, 0, 0.3),
        inset 0 0 30px rgba(255, 0, 0, 0.05);
}

.feedback-status {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 10px;
    text-shadow: 0 0 10px currentColor;
    animation: feedbackStatusPulse 0.5s ease-out;
}

@keyframes feedbackStatusPulse {
    0% { transform: scale(0.8); opacity: 0; }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
}

.feedback-answer {
    margin: 10px 0;
    font-size: 1.1rem;
}

.feedback-explanation {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--color-primary);
    line-height: 1.6;
    transition: border-color 0.3s ease;
}

/* Results screen */
.results-summary {
    text-align: center;
    margin: 30px 0;
    animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.score-display {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: bold;
    margin: 20px 0;
    text-shadow: 
        0 0 15px var(--color-primary),
        0 0 30px var(--color-primary),
        0 0 45px var(--color-primary);
    animation: scoreReveal 1s ease-out, scorePulse 2s ease-in-out infinite 1s;
}

@keyframes scoreReveal {
    0% {
        opacity: 0;
        transform: scale(0.5) rotateY(90deg);
    }
    50% {
        opacity: 1;
        transform: scale(1.2) rotateY(0deg);
    }
    100% {
        transform: scale(1) rotateY(0deg);
    }
}

@keyframes scorePulse {
    0%, 100% { 
        transform: scale(1);
        text-shadow: 
            0 0 15px #00ffff,
            0 0 30px #00ffff,
            0 0 45px #00ffff;
    }
    50% { 
        transform: scale(1.05);
        text-shadow: 
            0 0 20px #00ffff,
            0 0 40px #00ffff,
            0 0 60px #00ffff,
            0 0 80px #00ffff;
    }
}

.stat-line {
    font-size: clamp(1.1rem, 2vw, 1.3rem);
    margin: 10px 0;
}

.history-section {
    margin-top: 40px;
}

.history-title {
    font-size: 1.5rem;
    margin-bottom: 20px;
    border-bottom: 2px solid var(--color-primary);
    padding-bottom: 10px;
    transition: border-color 0.3s ease;
}

.history-list {
    max-height: 400px;
    overflow-y: auto;
}

.history-item {
    background: var(--color-primary-dim);
    border-left: 3px solid var(--color-primary);
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 4px;
    animation: historyItemSlide 0.4s ease-out backwards;
    transition: all 0.3s ease;
}

@keyframes historyItemSlide {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.history-item:nth-child(1) { animation-delay: 0.1s; }
.history-item:nth-child(2) { animation-delay: 0.2s; }
.history-item:nth-child(3) { animation-delay: 0.3s; }
.history-item:nth-child(4) { animation-delay: 0.4s; }
.history-item:nth-child(5) { animation-delay: 0.5s; }

.history-item:hover {
    background: var(--color-primary-dim);
    border-left-color: var(--color-primary);
    transform: translateX(5px);
    box-shadow: 0 0 15px var(--color-primary-dim);
}

.history-date {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 5px;
}

.history-topic {
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 5px;
}

.history-stats {
    font-size: 0.95rem;
}

/* Header controls for home screen */
.header-controls {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 30px;
}

/* Action buttons */
.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 30px;
}

/* Sticky action buttons for quiz screen */
.quiz-action-buttons {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.95) 85%, rgba(0, 0, 0, 0) 100%);
    padding: 20px 0 20px 0;
    margin-top: 30px;
    margin-bottom: -30px;
    margin-left: -30px;
    margin-right: -30px;
    padding-left: 30px;
    padding-right: 30px;
    z-index: 100;
    box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.8);
    border-top: 1px solid rgba(0, 255, 255, 0.2);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .panel-header {
        font-size: 1.5rem;
    }

    .quiz-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .timer {
        font-size: 1.5rem;
    }

    .question-prompt {
        font-size: 1.1rem;
    }

    .score-display {
        font-size: 2rem;
    }

    .grid-3,
    .grid-4 {
        grid-template-columns: 1fr;
    }
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.5);
}

::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-secondary);
}

/* RPG Character Status Screen */
.status-header {
    background: var(--color-primary-dim);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 
        0 0 20px var(--color-primary-dim),
        inset 0 0 30px var(--color-primary-dim);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.status-player-info {
    text-align: center;
    margin-bottom: 20px;
}

.status-name {
    font-size: clamp(1.3rem, 2.5vw, 1.7rem);
    font-weight: bold;
    margin-bottom: 10px;
    text-shadow: 0 0 15px var(--color-primary), 0 0 30px var(--color-primary);
    animation: textGlow 2s ease-in-out infinite;
}

.status-level {
    font-size: clamp(1.3rem, 2.5vw, 1.8rem);
    margin-bottom: 5px;
    color: var(--color-warning);
    text-shadow: 0 0 10px var(--color-warning), 0 0 20px var(--color-warning);
    font-weight: bold;
}

.status-total-stats {
    font-size: clamp(1rem, 2vw, 1.2rem);
    opacity: 0.9;
}

.status-progress {
    margin-top: 20px;
}

.status-progress-label {
    font-size: 1rem;
    margin-bottom: 10px;
    text-align: center;
    opacity: 0.9;
}

.status-progress-bar {
    width: 100%;
    height: 20px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid var(--color-primary);
    border-radius: 10px;
    overflow: hidden;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
    transition: border-color 0.3s ease;
}

.status-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-warning));
    box-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary);
    transition: width 0.5s ease-out;
    animation: progressPulse 2s ease-in-out infinite;
}

.status-progress-text {
    text-align: center;
    margin-top: 8px;
    font-size: 0.95rem;
    opacity: 0.8;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.stat-item {
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--color-primary);
    border-radius: 6px;
    padding: 15px;
    transition: all 0.3s ease;
    animation: tileSlideIn 0.4s ease-out backwards;
}

.stat-item:nth-child(1) { animation-delay: 0.05s; }
.stat-item:nth-child(2) { animation-delay: 0.1s; }
.stat-item:nth-child(3) { animation-delay: 0.15s; }
.stat-item:nth-child(4) { animation-delay: 0.2s; }
.stat-item:nth-child(5) { animation-delay: 0.25s; }
.stat-item:nth-child(6) { animation-delay: 0.3s; }
.stat-item:nth-child(7) { animation-delay: 0.35s; }
.stat-item:nth-child(8) { animation-delay: 0.4s; }

.stat-item:hover {
    background: var(--color-primary-dim);
    box-shadow: 0 0 15px var(--color-primary-glow);
    transform: translateY(-2px);
}

.stat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.stat-topic-name {
    font-weight: bold;
    font-size: clamp(0.95rem, 1.8vw, 1.1rem);
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

.stat-points {
    font-size: clamp(1rem, 2vw, 1.2rem);
    font-weight: bold;
    color: var(--color-warning);
    text-shadow: 0 0 10px var(--color-warning);
}

.stat-bar {
    width: 100%;
    height: 12px;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--color-primary);
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 8px;
    transition: border-color 0.3s ease;
}

.stat-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    box-shadow: 0 0 8px var(--color-primary);
    transition: width 0.5s ease-out;
}

.stat-details {
    font-size: 0.9rem;
    opacity: 0.8;
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .status-name {
        font-size: 1.5rem;
    }
    
    .status-level {
        font-size: 1.3rem;
    }
}

/* Modal styles */
.modal {
    display: none;
    position: fixed;
    z-index: 10000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.modal-content {
    background: var(--color-bg-panel);
    border: 3px solid var(--color-primary);
    border-radius: 8px;
    padding: 0;
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    box-shadow: 
        0 0 30px var(--color-primary-glow),
        inset 0 0 100px var(--color-primary-dim);
    animation: modalSlideIn 0.3s ease-out;
    overflow: hidden;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-50px) scale(0.9);
        opacity: 0;
    }
    to {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    border-bottom: 2px solid var(--color-primary);
    background: var(--color-primary-dim);
    transition: border-color 0.3s ease, background-color 0.3s ease;
}

.modal-header h2 {
    margin: 0;
    font-size: 1.5rem;
    text-shadow: 0 0 10px var(--color-primary);
}

.modal-close {
    background: none;
    border: 2px solid var(--color-primary);
    color: var(--color-primary);
    font-size: 1.5rem;
    cursor: pointer;
    width: 35px;
    height: 35px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    padding: 0;
}

.modal-close:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: var(--color-error);
    color: var(--color-error);
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
}

.modal-body {
    padding: 25px;
    max-height: 60vh;
    overflow-y: auto;
}

.player-list {
    margin-bottom: 25px;
}

.player-item {
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--color-primary);
    padding: 15px 20px;
    margin-bottom: 10px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    animation: playerItemSlide 0.3s ease-out backwards;
}

@keyframes playerItemSlide {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.player-item:nth-child(1) { animation-delay: 0.05s; }
.player-item:nth-child(2) { animation-delay: 0.1s; }
.player-item:nth-child(3) { animation-delay: 0.15s; }
.player-item:nth-child(4) { animation-delay: 0.2s; }
.player-item:nth-child(5) { animation-delay: 0.25s; }

.player-item:hover {
    background: rgba(0, 255, 255, 0.1);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
    transform: translateX(5px);
}

.player-item.selected {
    background: rgba(0, 255, 255, 0.15);
    border-color: #ffff00;
    box-shadow: 0 0 20px rgba(255, 255, 0, 0.4);
}

.player-name {
    font-size: clamp(1rem, 2vw, 1.2rem);
    font-weight: bold;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

.player-level {
    font-size: clamp(0.9rem, 1.8vw, 1rem);
    color: #ffff00;
    text-shadow: 0 0 10px #ffff00;
}

.new-player-form {
    display: flex;
    gap: 10px;
    padding-top: 15px;
    border-top: 2px solid rgba(0, 255, 255, 0.3);
}

.new-player-form input {
    flex: 1;
    background: rgba(0, 0, 0, 0.9);
    color: #00ffff;
    border: 2px solid #00ffff;
    padding: 10px;
    font-size: 1rem;
    border-radius: 4px;
    font-family: 'Courier New', 'Courier', monospace;
}

.new-player-form input:focus {
    outline: none;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

/* ============================================================================
   Settings Page Styles
   ============================================================================ */
.settings-section {
    display: flex;
    flex-direction: column;
    gap: 25px;
    padding: 20px 0;
}

.setting-item {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 15px;
    align-items: center;
    padding: 15px;
    background: var(--color-primary-dim);
    border: 1px solid var(--color-primary);
    border-radius: 4px;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.setting-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    grid-column: 1 / -1;
    margin-bottom: 5px;
}

.setting-name {
    font-size: 1rem;
    font-weight: bold;
    color: var(--color-primary);
    transition: color 0.3s ease;
}

.setting-value {
    font-size: 0.9rem;
    color: var(--color-success);
    min-width: 50px;
    text-align: right;
    transition: color 0.3s ease;
}

.volume-slider {
    grid-column: 1 / 2;
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    appearance: none;
    background: var(--color-primary-dim);
    outline: none;
    border-radius: 3px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    background: var(--color-primary);
    cursor: pointer;
    border-radius: 50%;
    box-shadow: 0 0 10px var(--color-primary-glow);
    transition: all 0.2s;
}

.volume-slider::-webkit-slider-thumb:hover {
    background: var(--color-success);
    box-shadow: 0 0 15px var(--color-success);
    transform: scale(1.1);
}

.volume-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: var(--color-primary);
    cursor: pointer;
    border: none;
    border-radius: 50%;
    box-shadow: 0 0 10px var(--color-primary-glow);
    transition: all 0.2s;
}

.volume-slider::-moz-range-thumb:hover {
    background: var(--color-success);
    box-shadow: 0 0 15px var(--color-success);
    transform: scale(1.1);
}

.test-sound-btn {
    grid-column: 2 / 3;
    padding: 8px 16px;
    white-space: nowrap;
}

/* Theme Selector */
.theme-selector {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    margin-top: 10px;
}

.theme-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 15px 20px;
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--color-primary);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Courier New', 'Courier', monospace;
    color: var(--color-text);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    min-width: 120px;
}

.theme-btn:hover {
    background: var(--color-primary-dim);
    box-shadow: 0 0 15px var(--color-primary-glow);
    transform: translateY(-2px);
}

.theme-btn.active {
    background: var(--color-primary-dim);
    border-color: var(--color-primary);
    box-shadow: 0 0 20px var(--color-primary-glow), inset 0 0 20px var(--color-primary-dim);
}

.theme-preview {
    width: 60px;
    height: 30px;
    border-radius: 4px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.theme-preview::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 33.33%;
    height: 100%;
}

.theme-preview::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 33.33%;
    height: 100%;
}

.theme-preview-default {
    background: #000814;
}

.theme-preview-default::before {
    background: #00ffff;
}

.theme-preview-default::after {
    background: #00ccff;
}

.theme-preview-eva01 {
    background: #201430;
}

.theme-preview-eva01::before {
    background: #87FF5F;
}

.theme-preview-eva01::after {
    background: #B968FC;
}

.theme-preview-eva02 {
    background: #280000;
}

.theme-preview-eva02::before {
    background: #FF5701;
}

.theme-preview-eva02::after {
    background: #00A6BF;
}

@media (max-width: 768px) {
    .theme-selector {
        justify-content: center;
    }
    
    .theme-btn {
        flex: 1;
        min-width: 100px;
    }
}

@media (max-width: 768px) {
    .setting-item {
        grid-template-columns: 1fr;
    }
    
    .test-sound-btn {
        grid-column: 1 / -1;
        width: 100%;
    }
}

/* ============================================================================
   Login Screen Styles
   ============================================================================ */
.login-section {
    max-width: 600px;
    margin: 0 auto;
}

.player-list-login {
    margin-bottom: 40px;
}

.player-item-login {
    background: var(--color-primary-dim);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 15px 20px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s;
    cursor: pointer;
}

.player-item-login:hover {
    background: var(--color-primary-dim);
    border-color: var(--color-primary);
    box-shadow: 0 0 20px var(--color-primary-glow);
    transform: translateX(5px);
}

.player-info-login {
    flex: 1;
}

.player-name-login {
    font-size: clamp(1.2rem, 2.5vw, 1.4rem);
    font-weight: bold;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary-glow);
    margin-bottom: 5px;
}

.player-level-login {
    font-size: clamp(0.95rem, 2vw, 1.1rem);
    color: var(--color-warning);
    margin-bottom: 3px;
}

.player-stats-login {
    font-size: clamp(0.8rem, 1.5vw, 0.9rem);
    opacity: 0.8;
}

.player-action {
    margin-left: 20px;
}

.new-character-section {
    border-top: 2px solid var(--color-primary);
    padding-top: 30px;
    transition: border-color 0.3s ease;
}

.new-player-form-login {
    display: flex;
    gap: 10px;
    max-width: 500px;
    margin: 0 auto;
}

.new-player-form-login input {
    flex: 1;
    background: var(--color-primary-dim);
    border: 2px solid var(--color-primary);
    border-radius: 4px;
    padding: 12px 15px;
    color: var(--color-primary);
    font-family: 'Courier New', monospace;
    font-size: 1em;
    outline: none;
    transition: all 0.3s;
}

.new-player-form-login input::placeholder {
    color: rgba(0, 255, 255, 0.5);
}

.new-player-form-login input:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 15px var(--color-primary-glow);
}

.new-player-form-login .btn {
    white-space: nowrap;
}

/* Analytics & Results Screen */
.stat-box {
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--color-primary);
    border-radius: 8px;
    text-align: center;
    transition: border-color 0.3s ease;
}

.stat-label {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.stat-value {
    font-size: 2rem;
    font-weight: bold;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary);
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

@media (max-width: 768px) {
    .player-item-login {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .player-action {
        margin-left: 0;
        width: 100%;
    }
    
    .player-action .btn {
        width: 100%;
    }
    
    .new-player-form-login {
        flex-direction: column;
    }
    
    .new-player-form-login .btn {
        width: 100%;
    }
    
    .stat-box {
        padding: 12px;
    }
    
    .stat-value {
        font-size: 1.5rem;
    }
}

/* ============================================================================
   RPG Equipment Loadout System
   ============================================================================ */

.loadout-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin: 30px 0;
}

/* Character Display Section */
.character-display-section {
    background: var(--color-bg-panel);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0 20px var(--color-primary-dim);
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
}

.character-info-box {
    text-align: center;
    margin-bottom: 20px;
    padding: 15px;
    background: var(--color-primary-dim);
    border-radius: 8px;
    transition: background-color 0.3s ease;
}

.character-name {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary);
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

.character-level {
    font-size: 1.1rem;
    color: var(--color-warning);
    margin-top: 5px;
    transition: color 0.3s ease;
}

.character-sp {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-top: 5px;
}

.level-progress-mini {
    margin-top: 10px;
}

.progress-bar-mini {
    height: 8px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill-mini {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    transition: width 0.3s;
    box-shadow: 0 0 10px var(--color-primary);
}

.progress-text-mini {
    font-size: 0.8rem;
    text-align: center;
    margin-top: 5px;
    opacity: 0.7;
}

/* Pixel Art Character Sprite */
.character-sprite-container {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 30px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
    margin: 20px 0;
    min-height: 200px;
}

.pixel-character {
    position: relative;
    width: 80px;
    height: 120px;
    transform: scale(1.5);
}

/* Character parts using CSS pixel art (box-shadow technique) */
.pixel-head {
    position: absolute;
    top: 10px;
    left: 30px;
    width: 20px;
    height: 20px;
    background: #ffcc99;
    box-shadow: 
        0 0 0 2px #ffcc99,
        4px 0 0 2px #ffcc99,
        -4px 0 0 2px #ffcc99,
        0 4px 0 2px #ffcc99;
    border-radius: 4px;
}

.pixel-head.has-helmet {
    box-shadow: 
        0 0 0 2px #ffcc99,
        4px 0 0 2px #ffcc99,
        -4px 0 0 2px #ffcc99;
}

/* Different helmet styles */
.pixel-helmet {
    position: absolute;
    top: 8px;
    left: 28px;
    width: 24px;
    height: 12px;
    background: #ffaa00;
    border-radius: 4px 4px 0 0;
    box-shadow: 0 0 8px rgba(255, 170, 0, 0.5);
}

.pixel-helmet.helmet-crown {
    background: linear-gradient(135deg, #ffd700, #ffaa00);
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.8);
    border-radius: 2px 2px 0 0;
}

.pixel-helmet.helmet-circlet {
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    height: 8px;
    top: 10px;
    box-shadow: 0 0 10px var(--color-primary-glow);
    border-radius: 2px;
}

/* Different armor styles */
.pixel-body {
    position: absolute;
    top: 35px;
    left: 25px;
    width: 30px;
    height: 35px;
    background: #0088cc;
    border-radius: 4px;
}

.pixel-body.has-armor {
    background: linear-gradient(135deg, #00aaff, #0066cc);
    box-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
}

.pixel-body.armor-vestments {
    background: linear-gradient(135deg, #8833ff, #5500cc);
    box-shadow: 0 0 15px rgba(136, 51, 255, 0.6);
}

.pixel-body.armor-regalia {
    background: linear-gradient(135deg, #ff00ff, #aa00aa);
    box-shadow: 0 0 20px rgba(255, 0, 255, 0.8);
    border: 1px solid #ffaa00;
}

.pixel-arm-left {
    position: absolute;
    top: 40px;
    left: 18px;
    width: 8px;
    height: 25px;
    background: #ffcc99;
    border-radius: 3px;
}

.pixel-arm-right {
    position: absolute;
    top: 40px;
    left: 54px;
    width: 8px;
    height: 25px;
    background: #ffcc99;
    border-radius: 3px;
}

.pixel-arm-right.has-weapon {
    transform: rotate(-30deg);
    transform-origin: top center;
}

/* Different weapon styles */
.pixel-weapon {
    position: absolute;
    top: 38px;
    left: 62px;
    width: 4px;
    height: 30px;
    background: linear-gradient(180deg, #cccccc, #888888);
    box-shadow: 0 0 8px rgba(255, 255, 0, 0.5);
    border-radius: 2px;
}

.pixel-weapon.weapon-blade {
    background: linear-gradient(180deg, #00ffff, #0088cc);
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.8);
    width: 5px;
}

.pixel-weapon.weapon-tome {
    width: 10px;
    height: 12px;
    background: linear-gradient(135deg, #8b4513, #654321);
    box-shadow: 0 0 10px rgba(139, 69, 19, 0.6);
    border-radius: 2px;
    top: 45px;
    left: 60px;
}

/* Different accessory styles */
.pixel-accessory {
    position: absolute;
    top: 25px;
    left: 50px;
    width: 8px;
    height: 8px;
    background: #ffff00;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.8);
    animation: accessoryGlow 2s ease-in-out infinite;
}

.pixel-accessory.accessory-ring {
    width: 6px;
    height: 6px;
    background: #ff00ff;
    box-shadow: 0 0 12px rgba(255, 0, 255, 0.9);
    top: 60px;
    left: 32px;
}

.pixel-accessory.accessory-badge {
    width: 10px;
    height: 10px;
    background: linear-gradient(135deg, #ffd700, #ff6600);
    box-shadow: 0 0 15px rgba(255, 215, 0, 1);
    top: 42px;
    left: 32px;
    border-radius: 2px;
    animation: badgeGlow 1s ease-in-out infinite;
}

@keyframes badgeGlow {
    0%, 100% { box-shadow: 0 0 15px rgba(255, 215, 0, 1); transform: scale(1); }
    50% { box-shadow: 0 0 25px rgba(255, 215, 0, 1); transform: scale(1.1); }
}

@keyframes badgeGlow {
    0%, 100% { box-shadow: 0 0 15px rgba(255, 215, 0, 1); transform: scale(1); }
    50% { box-shadow: 0 0 25px rgba(255, 215, 0, 1); transform: scale(1.1); }
}

.pixel-leg-left {
    position: absolute;
    top: 70px;
    left: 28px;
    width: 10px;
    height: 30px;
    background: #0066aa;
    border-radius: 0 0 3px 3px;
}

.pixel-leg-right {
    position: absolute;
    top: 70px;
    left: 42px;
    width: 10px;
    height: 30px;
    background: #0066aa;
    border-radius: 0 0 3px 3px;
}

/* Equipment Slots */
.equipment-slots {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 20px;
}

.equipment-slot {
    background: rgba(0, 0, 0, 0.3);
    border: 2px solid #444;
    border-radius: 8px;
    padding: 12px;
    text-align: center;
    transition: all 0.3s;
}

.equipment-slot.equipped {
    border-color: var(--color-primary);
    background: var(--color-primary-dim);
    box-shadow: 0 0 10px var(--color-primary-glow);
}

.equipment-slot.empty {
    opacity: 0.5;
}

.slot-icon {
    font-size: 1.5rem;
    margin-bottom: 5px;
}

.slot-label {
    font-size: 0.8rem;
    opacity: 0.7;
    margin-bottom: 5px;
}

.equipped-item {
    margin-top: 5px;
}

.item-name {
    font-size: 0.85rem;
    font-weight: bold;
    color: var(--color-primary);
    margin-bottom: 5px;
    transition: color 0.3s ease;
}

.slot-empty-text {
    font-size: 0.8rem;
    opacity: 0.5;
    font-style: italic;
}

.btn-tiny {
    padding: 2px 8px;
    font-size: 0.7rem;
    background: rgba(255, 100, 100, 0.2);
    border: 1px solid #ff6666;
    color: #ff6666;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-tiny:hover {
    background: rgba(255, 100, 100, 0.4);
    box-shadow: 0 0 10px rgba(255, 100, 100, 0.5);
}

/* Equipment Bonus Box */
.equipment-bonus-box {
    margin-top: 20px;
    padding: 15px;
    background: rgba(0, 255, 0, 0.05);
    border: 2px solid var(--color-success);
    border-radius: 8px;
    transition: border-color 0.3s ease;
}

.bonus-title {
    font-weight: bold;
    color: var(--color-success);
    margin-bottom: 10px;
    transition: color 0.3s ease;
}

.bonus-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.bonus-stat {
    padding: 4px 10px;
    background: rgba(0, 255, 0, 0.1);
    border: 1px solid var(--color-success);
    border-radius: 4px;
    font-size: 0.85rem;
    color: var(--color-success);
    text-shadow: 0 0 5px var(--color-success);
    transition: border-color 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
}

.bonus-stat-none {
    opacity: 0.5;
    font-style: italic;
}

/* Inventory Section */
.inventory-section {
    background: var(--color-bg-panel);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0 20px var(--color-primary-dim);
    max-height: 800px;
    overflow-y: auto;
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
}

.inventory-title {
    text-align: center;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary);
    margin-bottom: 20px;
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

.inventory-grid {
    display: grid;
    gap: 15px;
}

.inventory-item {
    position: relative;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #444;
    border-radius: 8px;
    padding: 15px;
    transition: all 0.3s;
}

.inventory-item.unlocked {
    border-color: var(--color-primary);
    background: var(--color-primary-dim);
}

.inventory-item.unlocked:hover {
    border-color: var(--color-primary);
    background: var(--color-primary-dim);
    box-shadow: 0 0 15px var(--color-primary-glow);
    transform: translateY(-2px);
}

.inventory-item.locked {
    opacity: 0.4;
}

.inventory-item.equipped-item-highlight {
    border-color: var(--color-warning);
    box-shadow: 0 0 15px var(--color-warning);
}

.item-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.item-icon {
    font-size: 1.8rem;
}

.item-name-inv {
    font-weight: bold;
    color: var(--color-primary);
    font-size: 1.1rem;
    transition: color 0.3s ease;
}

.item-description {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 10px;
    line-height: 1.4;
}

.item-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 10px;
}

.item-stat-bonus {
    padding: 3px 8px;
    background: rgba(0, 255, 0, 0.1);
    border: 1px solid var(--color-success);
    border-radius: 4px;
    font-size: 0.75rem;
    color: var(--color-success);
    transition: border-color 0.3s ease, color 0.3s ease;
}

.item-equipped-badge {
    padding: 8px;
    background: rgba(255, 170, 0, 0.2);
    border: 1px solid var(--color-warning);
    border-radius: 4px;
    text-align: center;
    font-weight: bold;
    color: var(--color-warning);
    transition: border-color 0.3s ease, color 0.3s ease;
}

.item-locked-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 6px;
}

.lock-icon {
    font-size: 2rem;
    margin-bottom: 5px;
}

.unlock-req {
    font-size: 0.9rem;
    color: #ff6666;
    font-weight: bold;
}

/* Subject Levels List */
.subject-levels-list {
    margin-top: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    padding: 15px;
}

.subject-level-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid var(--color-primary-dim);
    transition: border-color 0.3s ease;
}

.subject-level-item:last-child {
    border-bottom: none;
}

.subject-level-name {
    color: var(--color-primary);
    transition: color 0.3s ease;
}

.subject-level-value {
    font-weight: bold;
    color: var(--color-warning);
    transition: color 0.3s ease;
}

/* Mobile Responsive */
@media (max-width: 968px) {
    .loadout-container {
        grid-template-columns: 1fr;
    }
    
    .pixel-character {
        transform: scale(1.2);
    }
    
    .equipment-slots {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 480px) {
    .equipment-slots {
        grid-template-columns: 1fr;
    }
    
    .pixel-character {
        transform: scale(1);
    }
}

/* ============================================================================
   Question Review Section (Test Results)
   ============================================================================ */

.question-review-section {
    margin: 30px 0;
    padding: 20px;
    background: var(--color-bg-panel);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    transition: border-color 0.3s ease, background-color 0.3s ease;
}

.review-title {
    text-align: center;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary);
    margin-bottom: 25px;
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

.review-question {
    margin-bottom: 25px;
    padding: 20px;
    border-radius: 8px;
    border: 2px solid;
}

.review-question.review-correct {
    background: rgba(0, 255, 0, 0.05);
    border-color: var(--color-success);
}

.review-question.review-incorrect {
    background: rgba(255, 100, 100, 0.05);
    border-color: #ff6666;
}

.review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 10px;
}

.review-number {
    font-weight: bold;
    font-size: 1.1rem;
    color: var(--color-primary);
    transition: color 0.3s ease;
}

.review-status {
    padding: 5px 15px;
    border-radius: 20px;
    font-weight: bold;
    font-size: 0.9rem;
}

.status-correct {
    background: rgba(0, 255, 0, 0.2);
    border: 1px solid var(--color-success);
    color: var(--color-success);
    transition: border-color 0.3s ease, color 0.3s ease;
}

.status-incorrect {
    background: rgba(255, 100, 100, 0.2);
    border: 1px solid #ff6666;
    color: #ff6666;
}

.review-time {
    font-size: 0.9rem;
    opacity: 0.8;
}

.review-prompt {
    font-size: 1.1rem;
    margin-bottom: 15px;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-left: 4px solid var(--color-primary);
    line-height: 1.6;
    white-space: pre-wrap;
    transition: border-color 0.3s ease;
}

.review-options {
    margin: 15px 0;
}

.review-option {
    padding: 12px 15px;
    margin-bottom: 10px;
    background: rgba(0, 0, 0, 0.3);
    border: 2px solid #444;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s;
}

.review-option-correct {
    border-color: var(--color-success);
    background: rgba(0, 255, 0, 0.1);
}

.review-option-wrong {
    border-color: #ff6666;
    background: rgba(255, 100, 100, 0.1);
}

.review-option-label {
    font-weight: bold;
    color: var(--color-primary);
    min-width: 25px;
    transition: color 0.3s ease;
}

.review-option-text {
    flex: 1;
}

.review-badge-user {
    padding: 3px 10px;
    background: rgba(0, 170, 255, 0.3);
    border: 1px solid #00aaff;
    border-radius: 12px;
    font-size: 0.75rem;
    color: #00aaff;
    font-weight: bold;
}

.review-badge-correct {
    padding: 3px 10px;
    background: rgba(0, 255, 0, 0.3);
    border: 1px solid var(--color-success);
    border-radius: 12px;
    font-size: 0.75rem;
    color: var(--color-success);
    font-weight: bold;
    transition: border-color 0.3s ease, color 0.3s ease;
}

.review-explanation {
    margin-top: 15px;
    padding: 15px;
    background: var(--color-primary-dim);
    border-left: 4px solid var(--color-primary);
    border-radius: 4px;
    line-height: 1.6;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.review-explanation strong {
    color: var(--color-primary);
    transition: color 0.3s ease;
}

@media (max-width: 768px) {
    .review-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .review-option {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .review-badge-user,
    .review-badge-correct {
        margin-top: 5px;
    }
}

/* ============================================================================
   Home Controls Box & Analytics Sections
   ============================================================================ */

.home-controls-box {
    background: var(--color-bg-panel);
    border: 3px solid var(--color-primary);
    border-radius: 0;
    padding: 30px;
    margin-bottom: 30px;
    box-shadow: 0 0 15px var(--color-primary-dim);
    transition: all 0.3s ease;
    position: relative;
    overflow: visible;
    clip-path: polygon(
        0 10px,
        10px 0,
        calc(100% - 10px) 0,
        100% 10px,
        100% calc(100% - 10px),
        calc(100% - 10px) 100%,
        10px 100%,
        0 calc(100% - 10px)
    );
}

/* Warning stripes on top */
.home-controls-box::before {
    content: '';
    position: absolute;
    top: -3px;
    left: 10%;
    width: 80%;
    height: 8px;
    background: repeating-linear-gradient(
        45deg,
        var(--color-warning) 0px,
        var(--color-warning) 10px,
        rgba(0, 0, 0, 0.8) 10px,
        rgba(0, 0, 0, 0.8) 20px
    );
    border: 1px solid var(--color-warning);
    z-index: 10;
}

/* Removed sliding gradient animation for cleaner look */

.home-controls-box > * {
    position: relative;
    z-index: 1;
}

.feedback-success {
    background: rgba(0, 255, 0, 0.05);
    border-color: var(--color-success);
    color: var(--color-success);
}

.analytics-section {
    background: var(--color-primary-dim);
    border: 2px solid var(--color-primary);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 0 20px var(--color-primary-dim), inset 0 0 30px var(--color-primary-dim);
    transition: all 0.3s ease;
}

.improvement-box {
    margin-top: 20px;
    padding: 15px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid var(--color-primary);
    transition: all 0.3s ease;
}

.analytics-weak-section {
    background: rgba(255, 100, 100, 0.05);
    border: 2px solid var(--color-error);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 0 15px rgba(255, 100, 100, 0.1);
    transition: all 0.3s ease;
}

.analytics-strong-section {
    background: rgba(0, 255, 0, 0.05);
    border: 2px solid var(--color-success);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.1);
    transition: all 0.3s ease;
}

.analytics-all-section {
    background: var(--color-primary-dim);
    border: 2px solid var(--color-secondary);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 0 15px var(--color-primary-dim);
    transition: all 0.3s ease;
}

/* ============================================================================
   LUXURY DESIGN ENHANCEMENTS
   ============================================================================ */

/* Glassmorphism effect for panels */
.panel.glass {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--color-primary);
    box-shadow: 
        0 8px 32px 0 rgba(0, 0, 0, 0.37),
        0 0 20px var(--color-primary-glow),
        inset 0 0 50px var(--color-primary-dim);
}

/* Neon glow borders */
.neon-border {
    position: relative;
    border: 2px solid var(--color-primary);
    box-shadow: 
        0 0 5px var(--color-primary),
        0 0 10px var(--color-primary),
        0 0 20px var(--color-primary),
        inset 0 0 10px var(--color-primary-dim);
    animation: neonPulse 2s ease-in-out infinite;
}

@keyframes neonPulse {
    0%, 100% {
        box-shadow: 
            0 0 5px var(--color-primary),
            0 0 10px var(--color-primary),
            0 0 20px var(--color-primary),
            inset 0 0 10px var(--color-primary-dim);
    }
    50% {
        box-shadow: 
            0 0 10px var(--color-primary),
            0 0 20px var(--color-primary),
            0 0 30px var(--color-primary),
            0 0 40px var(--color-primary),
            inset 0 0 15px var(--color-primary-dim);
    }
}

/* Holographic gradient effect */
.holographic {
    background: linear-gradient(
        135deg,
        var(--color-primary) 0%,
        var(--color-secondary) 25%,
        var(--color-accent) 50%,
        var(--color-secondary) 75%,
        var(--color-primary) 100%
    );
    background-size: 200% 200%;
    animation: holographicShift 4s ease infinite;
}

@keyframes holographicShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Particle background overlay */
.particle-bg {
    position: relative;
    overflow: hidden;
}

.particle-bg::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 50%, var(--color-primary-dim) 1px, transparent 1px),
        radial-gradient(circle at 80% 80%, var(--color-primary-dim) 1px, transparent 1px),
        radial-gradient(circle at 40% 20%, var(--color-primary-dim) 1px, transparent 1px),
        radial-gradient(circle at 90% 40%, var(--color-primary-dim) 1px, transparent 1px),
        radial-gradient(circle at 60% 70%, var(--color-primary-dim) 1px, transparent 1px);
    background-size: 200% 200%;
    opacity: 0.3;
    animation: particleFloat 20s ease-in-out infinite;
    pointer-events: none;
}

@keyframes particleFloat {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(10px, -10px); }
    50% { transform: translate(-5px, 5px); }
    75% { transform: translate(5px, 10px); }
}

/* Premium gradient borders */
.gradient-border {
    position: relative;
    background: var(--color-bg-panel);
    border-radius: 8px;
    padding: 2px;
}

.gradient-border::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px;
    padding: 2px;
    background: linear-gradient(45deg, var(--color-primary), var(--color-secondary), var(--color-accent), var(--color-primary));
    background-size: 300% 300%;
    animation: gradientRotate 3s ease infinite;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
}

@keyframes gradientRotate {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Cyber grid background */
.cyber-grid {
    position: relative;
    background-image: 
        linear-gradient(var(--color-primary-dim) 1px, transparent 1px),
        linear-gradient(90deg, var(--color-primary-dim) 1px, transparent 1px);
    background-size: 20px 20px;
    background-position: -1px -1px;
}

/* 3D depth shadow */
.depth-shadow {
    box-shadow: 
        0 1px 1px var(--color-primary-dim),
        0 2px 2px var(--color-primary-dim),
        0 4px 4px var(--color-primary-dim),
        0 8px 8px var(--color-primary-dim),
        0 16px 16px var(--color-primary-dim);
}

/* Animated gradient text */
.gradient-text {
    background: linear-gradient(
        45deg,
        var(--color-primary),
        var(--color-secondary),
        var(--color-accent),
        var(--color-primary)
    );
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientTextShift 3s ease infinite;
}

@keyframes gradientTextShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Floating animation for cards */
.float {
    animation: floating 3s ease-in-out infinite;
}

@keyframes floating {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

/* Glow pulse effect */
.glow-pulse {
    animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {
    0%, 100% {
        box-shadow: 0 0 5px var(--color-primary-glow);
    }
    50% {
        box-shadow: 
            0 0 20px var(--color-primary-glow),
            0 0 40px var(--color-primary-glow),
            0 0 60px var(--color-primary-glow);
    }
}

/* Premium button with shine effect */
.btn-premium {
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    border: none;
    box-shadow: 
        0 4px 15px var(--color-primary-glow),
        inset 0 1px 1px rgba(255, 255, 255, 0.3);
}

.btn-premium::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    transform: rotate(45deg);
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* Hexagonal grid pattern */
.hex-pattern {
    background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 20px, var(--color-primary-dim) 20px, var(--color-primary-dim) 21px),
        repeating-linear-gradient(60deg, transparent, transparent 20px, var(--color-primary-dim) 20px, var(--color-primary-dim) 21px),
        repeating-linear-gradient(120deg, transparent, transparent 20px, var(--color-primary-dim) 20px, var(--color-primary-dim) 21px);
}

/* Scanline effect overlay */
.scanlines {
    position: relative;
}

.scanlines::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        transparent 1px,
        transparent 2px,
        rgba(0, 0, 0, 0.1) 3px
    );
    pointer-events: none;
    animation: scanlineMove 10s linear infinite;
}

@keyframes scanlineMove {
    0% { transform: translateY(0); }
    100% { transform: translateY(20px); }
}

/* ============================================================================
   CONDITIONAL VISUAL EFFECTS (Controlled by Settings Toggles)
   ============================================================================ */

/* Glassmorphism - Applied to panels when enabled */
.effect-glassmorphism .panel {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 
        0 8px 32px 0 rgba(0, 0, 0, 0.37),
        0 0 20px var(--color-primary-glow),
        inset 0 0 50px var(--color-primary-dim);
}

.effect-glassmorphism .home-controls-box,
.effect-glassmorphism .analytics-section,
.effect-glassmorphism .analytics-weak-section,
.effect-glassmorphism .analytics-strong-section,
.effect-glassmorphism .analytics-all-section {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* Neon Borders - Applied to buttons and panels when enabled */
.effect-neon-borders .btn,
.effect-neon-borders .option-btn {
    box-shadow: 
        0 0 5px var(--color-primary),
        0 0 10px var(--color-primary),
        0 0 20px var(--color-primary),
        inset 0 0 10px var(--color-primary-dim);
    animation: neonPulse 2s ease-in-out infinite;
}

.effect-neon-borders .home-controls-box,
.effect-neon-borders .panel {
    animation: neonPulse 2s ease-in-out infinite;
}

/* Floating Animations - Applied to cards and stat displays when enabled */
.effect-floating .stat-card,
.effect-floating .subject-tile,
.effect-floating .topic-tile,
.effect-floating .equipment-item,
.effect-floating .home-controls-box {
    animation: floating 3s ease-in-out infinite;
}

/* Gradient Effects - Applied to text and buttons when enabled */
.effect-gradients .panel-header,
.effect-gradients h1,
.effect-gradients h2 {
    background: linear-gradient(
        45deg,
        var(--color-primary),
        var(--color-secondary),
        var(--color-accent),
        var(--color-primary)
    );
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientTextShift 3s ease infinite;
}

/* Premium Buttons - Applied when enabled */
.effect-premium-buttons .btn {
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    border: none;
    box-shadow: 
        0 4px 15px var(--color-primary-glow),
        inset 0 1px 1px rgba(255, 255, 255, 0.3);
}

.effect-premium-buttons .btn::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    transform: rotate(45deg);
    animation: shine 3s infinite;
}

/* Toggle Switch Styling */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    transition: 0.3s;
    border-radius: 24px;
    border: 2px solid var(--color-primary-dim);
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 2px;
    bottom: 2px;
    background-color: var(--color-text-dim);
    transition: 0.3s;
    border-radius: 50%;
}

input:checked + .toggle-slider {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
    box-shadow: 0 0 10px var(--color-primary-glow);
}

input:checked + .toggle-slider:before {
    transform: translateX(26px);
    background-color: white;
}

.setting-description {
    display: block;
    font-size: 0.8rem;
    color: var(--color-text-dim);
    margin-top: 2px;
}

/* ============================================================================
   TECHNICAL/MILITARY UI OVERHAUL - Evangelion-inspired
   ============================================================================ */

/* Angular panels with corner brackets */
.panel {
    border-radius: 0 !important;
    border-width: 3px !important;
    clip-path: polygon(
        0 12px,
        12px 0,
        calc(100% - 12px) 0,
        100% 12px,
        100% calc(100% - 12px),
        calc(100% - 12px) 100%,
        12px 100%,
        0 calc(100% - 12px)
    );
}

.panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    background-image:
        linear-gradient(90deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(180deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(270deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(180deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(90deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(0deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(270deg, var(--color-primary) 30px, transparent 30px),
        linear-gradient(0deg, var(--color-primary) 30px, transparent 30px);
    background-size:
        30px 3px, 3px 30px,
        30px 3px, 3px 30px,
        30px 3px, 3px 30px,
        30px 3px, 3px 30px;
    background-position:
        0 0, 0 0,
        100% 0, 100% 0,
        0 100%, 0 100%,
        100% 100%, 100% 100%;
    background-repeat: no-repeat;
    opacity: 0.8;
    z-index: 1;
}

.panel > * {
    position: relative;
    z-index: 2;
}

/* Angular buttons with side markers */
.btn {
    border-radius: 0 !important;
    letter-spacing: 3px !important;
    clip-path: polygon(
        0 6px,
        6px 0,
        calc(100% - 6px) 0,
        100% 6px,
        100% calc(100% - 6px),
        calc(100% - 6px) 100%,
        6px 100%,
        0 calc(100% - 6px)
    );
}

.btn::before,
.btn::after {
    width: 6px !important;
    height: 100% !important;
    background: var(--color-primary) !important;
    opacity: 0.4 !important;
    top: 0 !important;
}

.btn::before {
    left: -3px !important;
}

.btn::after {
    right: -3px !important;
}

/* Technical tiles with angular box shape (no hexagon for better text wrapping) */
.tile {
    border-radius: 0 !important;
    border-width: 3px !important;
    clip-path: polygon(
        0 10px,
        10px 0,
        calc(100% - 10px) 0,
        100% 10px,
        100% calc(100% - 10px),
        calc(100% - 10px) 100%,
        10px 100%,
        0 calc(100% - 10px)
    ) !important;
}

.tile::after {
    content: '';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 20px;
    height: 20px;
    border-top: 3px solid var(--color-secondary);
    border-right: 3px solid var(--color-secondary);
    z-index: 10;
}

/* Warning stripes for home controls */
.home-controls-box {
    border-radius: 0 !important;
    border-width: 3px !important;
    overflow: visible !important;
    clip-path: polygon(
        0 10px,
        10px 0,
        calc(100% - 10px) 0,
        100% 10px,
        100% calc(100% - 10px),
        calc(100% - 10px) 100%,
        10px 100%,
        0 calc(100% - 10px)
    );
}

.home-controls-box::before {
    content: '';
    position: absolute;
    top: -3px;
    left: 10%;
    width: 80%;
    height: 8px;
    background: repeating-linear-gradient(
        45deg,
        var(--color-warning) 0px,
        var(--color-warning) 10px,
        rgba(0, 0, 0, 0.8) 10px,
        rgba(0, 0, 0, 0.8) 20px
    );
    border: 1px solid var(--color-warning);
    z-index: 10;
}

/* Question prompt with DATA label */
.question-prompt {
    border-radius: 0 !important;
    border-left-width: 6px !important;
    border-right-width: 6px !important;
    clip-path: polygon(
        0 8px,
        8px 0,
        calc(100% - 8px) 0,
        100% 8px,
        100% calc(100% - 8px),
        calc(100% - 8px) 100%,
        8px 100%,
        0 calc(100% - 8px)
    );
}

/* Option buttons - restore normal rectangular shape */
.option-btn {
    border-radius: 0 !important;
    padding: 15px 20px 15px 50px !important;
    /* Removed clip-path for normal rectangular buttons */
}

.option-btn::after {
    content: '';
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 30px;
    background: var(--color-primary);
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    );
    opacity: 0.3;
    z-index: 0;
}

.option-label {
    position: absolute !important;
    left: 10px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    font-weight: bold !important;
    color: var(--color-bg) !important;
    min-width: 30px !important;
    height: 30px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 1 !important;
    font-size: 0.9rem !important;
}

/* Angular progress bars with segments */
.progress-bar {
    border-radius: 0 !important;
    clip-path: polygon(
        0 4px,
        4px 0,
        calc(100% - 4px) 0,
        100% 4px,
        100% calc(100% - 4px),
        calc(100% - 4px) 100%,
        4px 100%,
        0 calc(100% - 4px)
    );
}

.progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 10px,
        var(--color-primary-dim) 10px,
        var(--color-primary-dim) 11px
    );
    opacity: 0.2;
    pointer-events: none;
    z-index: 10;
}

.progress-fill::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 20px,
        rgba(0, 0, 0, 0.3) 20px,
        rgba(0, 0, 0, 0.3) 22px
    );
    pointer-events: none;
}

/* Analytics sections with technical borders */
.analytics-section,
.analytics-weak-section,
.analytics-strong-section,
.analytics-all-section {
    border-radius: 0 !important;
    border-width: 3px !important;
    clip-path: polygon(
        0 10px,
        10px 0,
        calc(100% - 10px) 0,
        100% 10px,
        100% calc(100% - 10px),
        calc(100% - 10px) 100%,
        10px 100%,
        0 calc(100% - 10px)
    );
}

/* Input fields angular styling */
input[type="text"],
input[type="range"],
select {
    border-radius: 0 !important;
}

/* Modal angular corners */
.modal-content {
    border-radius: 0 !important;
    clip-path: polygon(
        0 12px,
        12px 0,
        calc(100% - 12px) 0,
        100% 12px,
        100% calc(100% - 12px),
        calc(100% - 12px) 100%,
        12px 100%,
        0 calc(100% - 12px)
    );
}

/* Equipment items hexagonal */
.equipment-slot,
.inventory-item {
    border-radius: 0 !important;
    clip-path: polygon(
        0 6px,
        6px 0,
        calc(100% - 6px) 0,
        100% 6px,
        100% calc(100% - 6px),
        calc(100% - 6px) 100%,
        6px 100%,
        0 calc(100% - 6px)
    );
}

/* Stat displays with corner brackets */
.stat-display {
    position: relative;
    border-radius: 0 !important;
}

.stat-display::before,
.stat-display::after {
    content: '';
    position: absolute;
    width: 15px;
    height: 15px;
    border: 2px solid var(--color-secondary);
}

.stat-display::before {
    top: 5px;
    left: 5px;
    border-right: none;
    border-bottom: none;
}

.stat-display::after {
    bottom: 5px;
    right: 5px;
    border-left: none;
    border-top: none;
}

/* Character display technical frame */
.character-display-section {
    border-radius: 0 !important;
    clip-path: polygon(
        0 15px,
        15px 0,
        calc(100% - 15px) 0,
        100% 15px,
        100% calc(100% - 15px),
        calc(100% - 15px) 100%,
        15px 100%,
        0 calc(100% - 15px)
    );
}

/* Grid pattern overlay for technical look */
.panel::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        linear-gradient(var(--color-primary-dim) 1px, transparent 1px),
        linear-gradient(90deg, var(--color-primary-dim) 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.03;
    pointer-events: none;
    z-index: 0;
}

/* Hexagonal theme preview boxes */
.theme-preview {
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    ) !important;
}

/* ============================================================================
   BOOT INITIALIZATION SEQUENCE - Evangelion Style
   ============================================================================ */

#boot-sequence {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: var(--color-primary);
    font-family: 'Courier New', monospace;
    animation: bootFadeOut 0.5s ease-out 5s forwards;
}

@keyframes bootFadeOut {
    to {
        opacity: 0;
        pointer-events: none;
    }
}

.boot-container {
    width: 90%;
    max-width: 800px;
    padding: 40px;
    border: 3px solid var(--color-primary);
    clip-path: polygon(
        0 15px,
        15px 0,
        calc(100% - 15px) 0,
        100% 15px,
        100% calc(100% - 15px),
        calc(100% - 15px) 100%,
        15px 100%,
        0 calc(100% - 15px)
    );
    background: rgba(0, 0, 0, 0.95);
    box-shadow: 
        0 0 40px var(--color-primary-glow),
        inset 0 0 60px var(--color-primary-dim);
    position: relative;
}

/* Corner brackets */
.boot-container::before,
.boot-container::after {
    content: '';
    position: absolute;
    border: 3px solid var(--color-primary);
    width: 40px;
    height: 40px;
    animation: cornerPulse 2s ease-in-out infinite;
}

.boot-container::before {
    top: 10px;
    left: 10px;
    border-right: none;
    border-bottom: none;
}

.boot-container::after {
    bottom: 10px;
    right: 10px;
    border-left: none;
    border-top: none;
}

@keyframes cornerPulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

.boot-ascii-art {
    font-family: 'Courier New', monospace;
    font-size: 0.6rem;
    line-height: 1.2;
    text-align: center;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary-glow);
    margin-bottom: 15px;
    white-space: pre;
    overflow-x: auto;
    opacity: 0;
    animation: bootLineAppear 0.8s ease-out 0.1s forwards;
}

.boot-header {
    text-align: center;
    font-size: 2.2rem;
    letter-spacing: 12px;
    margin-bottom: 8px;
    color: var(--color-warning);
    text-shadow: 0 0 30px var(--color-warning), 0 0 50px var(--color-warning);
    animation: glitchText 4s infinite, linkStartPulse 2s ease-in-out infinite;
    font-weight: bold;
}

@keyframes linkStartPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.boot-subheader {
    text-align: center;
    font-size: 0.9rem;
    letter-spacing: 2px;
    margin-bottom: 20px;
    color: var(--color-primary-dim);
    text-shadow: 0 0 10px var(--color-primary-glow);
}

.boot-footer {
    text-align: center;
    margin-top: 25px;
    padding: 15px;
    opacity: 0;
    animation: bootLineAppear 0.5s ease-out 5.8s forwards;
}

.boot-footer-line {
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    letter-spacing: 1px;
    color: var(--color-primary);
    text-shadow: 0 0 10px var(--color-primary-glow);
    line-height: 1.5;
}

.boot-footer-line:nth-child(2) {
    font-weight: bold;
    color: var(--color-warning);
    text-shadow: 0 0 15px var(--color-warning);
}

.boot-footer-line:nth-child(3) {
    color: var(--color-secondary);
    text-shadow: 0 0 12px var(--color-secondary);
    animation: cursorBlink 1s step-end infinite;
}

@keyframes cursorBlink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0.5; }
}

@keyframes glitchText {
    0%, 90%, 100% { transform: translateX(0); }
    91% { transform: translateX(-2px); }
    92% { transform: translateX(2px); }
    93% { transform: translateX(-2px); }
    94% { transform: translateX(2px); }
}

.boot-system-check {
    margin: 20px 0;
}

.boot-line {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid var(--color-primary-dim);
    opacity: 0;
    animation: bootLineAppear 0.3s ease-out forwards;
    font-size: 0.95rem;
    letter-spacing: 1.5px;
}

.boot-line.boot-spacer {
    border-bottom: none;
    padding: 4px 0;
    min-height: 5px;
}

.boot-line.boot-indent {
    padding-left: 20px;
    font-size: 0.9rem;
}

.boot-line:nth-child(1) { animation-delay: 0.2s; }
.boot-line:nth-child(2) { animation-delay: 0.4s; }
.boot-line:nth-child(3) { animation-delay: 0.6s; }
.boot-line:nth-child(4) { animation-delay: 0.8s; }
.boot-line:nth-child(5) { animation-delay: 1.0s; }
.boot-line:nth-child(6) { animation-delay: 1.2s; }
.boot-line:nth-child(7) { animation-delay: 1.4s; }
.boot-line:nth-child(8) { animation-delay: 1.6s; }
.boot-line:nth-child(9) { animation-delay: 1.8s; }
.boot-line:nth-child(10) { animation-delay: 2.0s; }
.boot-line:nth-child(11) { animation-delay: 2.1s; }
.boot-line:nth-child(12) { animation-delay: 2.2s; }
.boot-line:nth-child(13) { animation-delay: 2.3s; }
.boot-line:nth-child(14) { animation-delay: 2.4s; }
.boot-line:nth-child(15) { animation-delay: 2.5s; }
.boot-line:nth-child(16) { animation-delay: 2.6s; }
.boot-line:nth-child(17) { animation-delay: 2.7s; }
.boot-line:nth-child(18) { animation-delay: 2.8s; }
.boot-line:nth-child(19) { animation-delay: 2.9s; }
.boot-line:nth-child(20) { animation-delay: 3.0s; }
.boot-line:nth-child(21) { animation-delay: 3.1s; }
.boot-line:nth-child(22) { animation-delay: 3.2s; }
.boot-line:nth-child(23) { animation-delay: 3.3s; }
.boot-line:nth-child(24) { animation-delay: 3.4s; }
.boot-line:nth-child(25) { animation-delay: 3.5s; }
.boot-line:nth-child(26) { animation-delay: 3.6s; }
.boot-line:nth-child(27) { animation-delay: 3.7s; }
.boot-line:nth-child(28) { animation-delay: 3.8s; }

@keyframes bootLineAppear {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.boot-status {
    color: var(--color-success);
    font-weight: bold;
    text-shadow: 0 0 10px var(--color-success);
    font-family: 'Courier New', monospace;
}

.boot-status.warning {
    color: var(--color-warning);
    text-shadow: 0 0 10px var(--color-warning);
}

.boot-status-highlight {
    color: var(--color-primary);
    font-weight: bold;
    text-shadow: 0 0 15px var(--color-primary-glow);
    animation: statusBlink 1.5s ease-in-out infinite;
}

@keyframes statusBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.boot-hexagon-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 10px;
    margin: 30px 0;
    opacity: 0;
    animation: bootLineAppear 0.5s ease-out 4.0s forwards;
}

.boot-hexagon {
    width: 40px;
    height: 40px;
    background: var(--color-primary-dim);
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    );
    animation: hexagonFill 0.3s ease-out forwards;
    opacity: 0;
}

.boot-hexagon:nth-child(1) { animation-delay: 4.2s; }
.boot-hexagon:nth-child(2) { animation-delay: 4.3s; }
.boot-hexagon:nth-child(3) { animation-delay: 4.4s; }
.boot-hexagon:nth-child(4) { animation-delay: 4.5s; }
.boot-hexagon:nth-child(5) { animation-delay: 4.6s; }
.boot-hexagon:nth-child(6) { animation-delay: 4.7s; }
.boot-hexagon:nth-child(7) { animation-delay: 4.8s; }
.boot-hexagon:nth-child(8) { animation-delay: 4.9s; }

@keyframes hexagonFill {
    from {
        opacity: 0;
        transform: scale(0);
    }
    to {
        opacity: 1;
        transform: scale(1);
        background: var(--color-primary);
        box-shadow: 0 0 20px var(--color-primary-glow);
    }
}

.boot-progress {
    margin-top: 30px;
    opacity: 0;
    animation: bootLineAppear 0.5s ease-out 5.0s forwards;
}

.boot-progress-label {
    font-size: 1rem;
    letter-spacing: 3px;
    margin-bottom: 10px;
    text-align: center;
    color: var(--color-secondary);
    text-shadow: 0 0 15px var(--color-secondary);
    font-family: 'Courier New', monospace;
}

.boot-progress-percent {
    text-align: center;
    font-size: 1.5rem;
    font-weight: bold;
    letter-spacing: 4px;
    margin-top: 10px;
    color: var(--color-warning);
    text-shadow: 0 0 20px var(--color-warning);
    font-family: 'Courier New', monospace;
}

.boot-progress-bar {
    width: 100%;
    height: 30px;
    border: 2px solid var(--color-primary);
    background: rgba(0, 0, 0, 0.5);
    position: relative;
    clip-path: polygon(
        0 4px,
        4px 0,
        calc(100% - 4px) 0,
        100% 4px,
        100% calc(100% - 4px),
        calc(100% - 4px) 100%,
        4px 100%,
        0 calc(100% - 4px)
    );
}

.boot-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    width: 0%;
    animation: bootProgressFill 1.0s ease-out 5.2s forwards;
    box-shadow: 0 0 20px var(--color-primary-glow);
    position: relative;
}

.boot-progress-fill::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 20px,
        rgba(0, 0, 0, 0.3) 20px,
        rgba(0, 0, 0, 0.3) 22px
    );
}

@keyframes bootProgressFill {
    to {
        width: 100%;
    }
}

.boot-warning-stripe {
    position: absolute;
    top: 0;
    left: 20%;
    width: 60%;
    height: 12px;
    background: repeating-linear-gradient(
        45deg,
        var(--color-warning) 0px,
        var(--color-warning) 15px,
        rgba(0, 0, 0, 0.8) 15px,
        rgba(0, 0, 0, 0.8) 30px
    );
    border: 2px solid var(--color-warning);
    clip-path: polygon(
        10px 0,
        calc(100% - 10px) 0,
        100% 100%,
        0 100%
    );
    animation: warningPulse 1s ease-in-out infinite;
}

@keyframes warningPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* ============================================================================
   HEXAGONAL DECORATIVE ELEMENTS
   ============================================================================ */

/* Hexagonal stat badges */
.stat-badge-hex {
    width: 60px;
    height: 60px;
    background: var(--color-primary);
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    );
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: 0 0 20px var(--color-primary-glow);
}

.stat-badge-hex::before {
    content: '';
    position: absolute;
    width: 52px;
    height: 52px;
    background: var(--color-bg);
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    );
}

.stat-badge-hex-value {
    position: relative;
    z-index: 1;
    font-weight: bold;
    font-size: 1.2rem;
    color: var(--color-primary);
}

/* Hexagonal corner decorations */
.hex-corner-tl,
.hex-corner-tr,
.hex-corner-bl,
.hex-corner-br {
    position: absolute;
    width: 20px;
    height: 20px;
    background: var(--color-secondary);
    clip-path: polygon(
        50% 0%,
        100% 25%,
        100% 75%,
        50% 100%,
        0% 75%,
        0% 25%
    );
    opacity: 0.6;
}

.hex-corner-tl { top: 20px; left: 20px; }
.hex-corner-tr { top: 20px; right: 20px; }
.hex-corner-bl { bottom: 20px; left: 20px; }
.hex-corner-br { bottom: 20px; right: 20px; }

/* Hexagonal pattern background */
.hex-pattern-bg {
    position: relative;
}

.hex-pattern-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 0% 0%, var(--color-primary-dim) 2px, transparent 2px),
        radial-gradient(circle at 50% 25%, var(--color-primary-dim) 2px, transparent 2px),
        radial-gradient(circle at 0% 50%, var(--color-primary-dim) 2px, transparent 2px);
    background-size: 40px 60px;
    opacity: 0.1;
    pointer-events: none;
    z-index: 0;
}

/* ============================================================================
   EVANGELION-STYLE PAGE TRANSITIONS
   ============================================================================ */

.panel {
    animation: pageSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes pageSlideIn {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Screen wipe transition effect */
.screen-transition {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--color-primary);
    transform: scaleY(0);
    transform-origin: top;
    z-index: 9999;
    pointer-events: none;
}

.screen-transition.active {
    animation: screenWipe 0.6s cubic-bezier(0.87, 0, 0.13, 1);
}

@keyframes screenWipe {
    0% {
        transform: scaleY(0);
        transform-origin: top;
    }
    50% {
        transform: scaleY(1);
        transform-origin: top;
    }
    51% {
        transform: scaleY(1);
        transform-origin: bottom;
    }
    100% {
        transform: scaleY(0);
        transform-origin: bottom;
    }
}

/* Data stream effect during transitions */
@keyframes dataStream {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: translateY(100%);
        opacity: 0;
    }
}

/* Technical readout flash */
.tech-flash {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3rem;
    color: var(--color-primary);
    font-family: 'Courier New', monospace;
    letter-spacing: 10px;
    opacity: 0;
    pointer-events: none;
    z-index: 10000;
    text-shadow: 0 0 30px var(--color-primary);
}

.tech-flash.show {
    animation: techFlash 0.6s ease-out;
}

@keyframes techFlash {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }
    30% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* ============================================================================
   GLOBAL HEXAGONAL BUTTON STYLING
   ============================================================================ */

/* Apply hexagonal shape to ALL buttons throughout the app */
.btn,
.select-player-btn,
.create-player-btn-login,
.test-sound-btn,
button {
    clip-path: polygon(
        10% 0%,
        90% 0%,
        100% 50%,
        90% 100%,
        10% 100%,
        0% 50%
    ) !important;
    position: relative;
}

/* Add corner indicators to hexagonal buttons */
.btn::before,
.btn::after {
    display: none !important;
}

/* Hexagonal buttons with symmetrical design */
.btn,
button {
    background: var(--color-bg);
    border: 2px solid var(--color-primary);
    color: var(--color-text);
    padding: 12px 32px;
    min-width: 140px;
    text-align: center;
    justify-content: center;
}

/* Ensure text is centered in hexagonal buttons */
.btn span,
button span {
    position: relative;
    z-index: 2;
}

/* Hexagonal hover state */
.btn:hover,
button:hover {
    background: var(--color-primary-dim);
    box-shadow: 
        0 0 20px var(--color-primary-glow),
        inset 0 0 30px var(--color-primary-dim);
    transform: scale(1.05);
}

/* Small hexagonal buttons */
.btn-small {
    padding: 8px 20px;
    min-width: 100px;
    font-size: 0.85rem;
}

/* Hexagonal input fields to match */
input[type="text"],
input[type="password"],
input[type="number"],
textarea {
    clip-path: polygon(
        5% 0%,
        95% 0%,
        100% 50%,
        95% 100%,
        5% 100%,
        0% 50%
    );
    border: 2px solid var(--color-primary);
    background: var(--color-bg-panel);
    padding: 10px 20px;
}
